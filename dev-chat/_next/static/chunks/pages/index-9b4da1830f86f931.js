(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5586)}])},6395:function(e,t,n){"use strict";n.d(t,{n:function(){return r.n}});var r=n(7637)},5586:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(5893),o=n(9008),s=n.n(o),i=n(1633),a=n.n(i),c=n(8435),u=n(4051),f=n.n(u),l=n(6395),p=n(7294),m=n(5615),d=n(11),h=n.n(d),g=n(1290);function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var j=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,e);var t=x(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).messageService=l.n.get(m.e),r.state={input:""},r.handleChange=function(e){r.setState({input:e.target.value})},r.handleKeyboard=function(e){"Enter"==e.key&&r.state.input&&r.createNewMessage(r.state.input)},r.handleButton=function(){r.state.input&&r.createNewMessage(r.state.input)},r}var o=n.prototype;return o.createNewMessage=function(e){e&&(this.messageService.addMessage({id:g.x.newGuid(),author:"Me",message:this.state.input,me:!0}),this.setState({input:""}))},o.render=function(){var e=this.state.input;return(0,r.jsxs)("div",{className:h().inputArea,children:[(0,r.jsx)("input",{value:e,onChange:this.handleChange,onKeyPress:this.handleKeyboard,onClick:this.handleButton}),(0,r.jsx)("button",{children:"+"})]})},n}(p.Component);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function i(e){S(s,r,o,i,a,"next",e)}function a(e){S(s,r,o,i,a,"throw",e)}i(void 0)}))}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return!t||"object"!==P(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}var M=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(n,e);var t=A(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).messageService=l.n.get(m.e),r.state={isLoading:!0,error:!1,messages:[],inputValue:""},r.messagesContainerRef=p.createRef(),r}var o=n.prototype;return o.componentDidMount=function(){var e=this;return O(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e._messageStreamSet||(e.setRandomInterval((function(){e.getMessage()}),100,4e3),e._messageStreamSet=!0),e.scrollToBottom();case 2:case"end":return t.stop()}}),t)})))()},o.componentDidUpdate=function(){this.scrollToBottom()},o.setRandomInterval=function(e,t,n){var r,o=function(){var s=Math.floor(Math.random()*(n-t+1))+t;r=setTimeout((function(){e(),o()}),s)};return o(),{clear:function(){clearTimeout(r)}}},o.getMessage=function(){var e=this;return O(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.messageService.getMessage(),t.next=4,n;case 4:r=t.sent,e.setState((function(e){return{isLoading:!1,data:r,messages:Array.isArray(null===e||void 0===e?void 0:e.messages)?E(e.messages).concat([r]):[r]}})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error getting message",t.t0),e.setState({isLoading:!1,error:!0,errorMessage:t.t0.toString()});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},o.setInput=function(e){},o.scrollToBottom=function(){this.messagesContainerRef.current.scrollTop=this.messagesContainerRef.current.scrollHeight},o.render=function(){var e=this.state,t=e.isLoading,n=e.error,o=e.errorMessage,s=(e.data,e.messages);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{id:"messagesContainer",ref:this.messagesContainerRef,className:h().messagesContainer,children:[t&&(0,r.jsx)("div",{children:"Loading..."}),t&&n&&(0,r.jsxs)("div",{children:["Error ",o]}),!t&&!n&&s.map((function(e){return(0,r.jsxs)("div",{className:h().messageCard,style:{marginLeft:e.me?"22%":"1em",border:e.me?"1px solid rgba(27, 185, 106, 0.75)":"none"},children:[(0,r.jsxs)("h2",{className:h().messageAuthor,children:[e.author,":"]}),(0,r.jsx)("p",{className:h().messageBody,children:e.message||e.title})]},e.id)}))]}),(0,r.jsx)(j,{})]})},n}(p.Component),B=function(){new Date;return(0,r.jsxs)("div",{className:"indexBody",children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"Dev Chat Simulator"}),(0,r.jsx)("meta",{name:"description",content:"NextJS exploration project by Stacy Gay"}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1, width=device-width"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(c.ZP,{}),(0,r.jsxs)("main",{className:a().main,children:[(0,r.jsx)("h1",{className:a().title,children:"Dev Chat Simulator"}),(0,r.jsx)(M,{})]})]})}},5615:function(e,t,n){"use strict";n.d(t,{e:function(){return r.e}});var r=n(2671)},1633:function(e){e.exports={main:"Home_main__OVLM4",title:"Home_title__q0Qg4",description:"Home_description__JhekB",footer:"Home_footer__zed0_",code:"Home_code__2i1pD",grid:"Home_grid__npx0i",card:"Home_card__K7aTN",logo:"Home_logo__FLQOc"}},11:function(e){e.exports={inputArea:"messages_inputArea__RrsOz",messagesContainer:"messages_messagesContainer__iC_EJ",messageCard:"messages_messageCard__ylPSz",fadeInUp:"messages_fadeInUp__s_zeE",me:"messages_me__DoHUk",messageAuthor:"messages_messageAuthor__2Eo9t",messageBody:"messages_messageBody__AHUqt"}}},function(e){e.O(0,[968,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);